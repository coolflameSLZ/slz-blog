---
title: 生产就绪备忘清单
toc: true
categories:
  - 技术规范

tags:
  - 技术规范
  - 运维
hide: false
date: 2021-07-30 15:37:15
---



功能完备只是起点，服务总要经过线上的打磨与历练； <br>这里有份清单标志着生产的就绪； <br>在街头，口口相传，哥哥来告诉弟弟

<!-- more -->

------



## 生产就绪备忘清单

上线切记盲目，切莫被崔经理带乱了节奏。

如果崔经理执意上线，now!

请他在本清单上签字画押，出了事祭天的是他。



| 要求                  | 自查套路                                                     | 结论 | 备注 |
| --------------------- | ------------------------------------------------------------ | ---- | ---- |
| 功能完备              | 对照产品文档；<br>对照接口文档回顾一遍<br>大约20分钟即可     |      |      |
| 性能完备              | 预期流量是多少<br>是否需要压测，其实很多服务不需要压测<br>如果有点压力的话，可以与运维沟通加点机器<br>或者与组长提前沟通一下，说一下压力点 |      |      |
| 停机上线              | 是否需要停机<br>大约停多长时间<br>影响面是多少               |      |      |
| 容量规划              | 日志产物<br>IO上传、现在产物<br>产物留存时间<br>清理计划     |      |      |
| 中间件迭代            | 中间件Schema<br>mysql、mq topic、es、hbase 是否准备完毕<br>不只要建好，更要确定此版本schema已经备份 |      |      |
| 数据迭代              | 是否需要数据迁移<br>数据迁移功能是否经过测试<br>是否有线上验证逻辑 |      |      |
| 兼容性考量            | 中间件：是否可以提前准备中间件环境<br>接口：与外部接口的交互，新旧版本支持情况<br>内部接口，是否有依赖关系，是否可以乱序上线 |      |      |
| 配置文件              | prod配置是否更新<br>旧配置是否备份                           |      |      |
| 日志管理              | 走读代码<br>关键条件分支是否添加日志<br>日志量评估，3天，10天，90天分别多大。<br>日志分级 |      |      |
| 健康检查接口          | 是否具备<br>是否与监控组件调试通过<br>是否联通容器的Heathcheck |      |      |
| 调用链监控            | 是否接入tracer <br>traceId 是否已经打通日志                  |      |      |
| 部署数量              | 多少流量，<br>多少数据量，<br>多少机器，<br>是否可以快速扩容新节点 |      |      |
| 高可用                | 是否是多节点，<br>是否需要多集群，<br>如果部分节点宕机是否继续可用 |      |      |
| 拓展性                | 是否是无状态应用<br>是否支持服务漂移                         |      |      |
| 回滚策略              | 确定上一个版本的tag<br>中间件schema 回滚语句准备完成<br>是否需要回滚数据，怎么回滚<br>配置回滚 |      |      |
|                       |                                                              |      |      |
| **推荐实现**          |                                                              |      |      |
| 暴露应用内信息        | 线程池、内存队列、                                           |      |      |
| 应用指标 Metrics 监控 | 1. 程序指标，如 jvm参数，qps 等<br>2. 业务指标，在线人数，订单数量 等 |      |      |



特殊原因：

因本需求特别紧急，省去上线前自查期，可立即上线。<br>

签字：

日期：

画押：
